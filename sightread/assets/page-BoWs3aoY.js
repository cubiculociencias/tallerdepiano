import{a as i,p as e,w as f,L as p}from"./chunk-PVWAREVJ-BeAWct5i.js";import{A as y,M as j}from"./MarketingFooter-CHKr6wB6.js";import{u as b,c as m}from"./context-kPolJz0x.js";import{S as c}from"./Canvas-C5qiJpk2.js";import{S as v}from"./SongPreview-C2g1F6yc.js";import{u as w}from"./Dropdown-B9h-t97s.js";import{u as S,P as N,a as P}from"./SongVisualizer-BApS7ggG.js";import{u as k}from"./index-DcBgwC9u.js";import"./common-wRUDMAM3.js";function F(n,t=300){const[s,o]=i.useState(!1),r=i.useRef(null);return i.useEffect(()=>(r.current&&(clearTimeout(r.current),r.current=null),n?(o(!1),r.current=globalThis.setTimeout(()=>{o(!0),r.current=null},t)):o(!1),()=>{r.current&&(clearTimeout(r.current),r.current=null)}),[n,t]),s}const C={gymnopedie:{source:"builtin",id:"gymnopedie-no1.mid"},ode:{source:"builtin",id:"ode-to-joy.mid"},canon:{source:"builtin",id:"canon-in-d.mid"}};function T({marginTop:n}){const t=k(),[s,o]=i.useState("ode"),{id:r,source:h}=C[s],u=!t.canPlay,g=F(u,300),a=b();return w("keydown",l=>{const d=l;if(d.key===" "){d.preventDefault(),a.toggle();return}}),S(()=>a.pause()),e.jsxs("div",{className:m("relative h-[400px] w-3/4 max-w-[760px] self-center","bg-gray-[#2e2e2e] overflow-hidden rounded-lg","shadow-xl"),style:{minWidth:"min(100vw - 40px, 400px)",marginTop:n},children:[e.jsx(v,{songId:r,source:h}),u&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-[#2e2e2e]",children:g&&e.jsx("div",{className:"h-12 w-12 animate-spin rounded-full border-4 border-white border-t-transparent"})}),e.jsxs("div",{className:"absolute top-0 flex h-[50px] w-full items-center justify-center bg-black/80",children:[e.jsx("button",{className:m("items-center gap-1 text-white hover:text-gray-300","absolute left-5 flex sm:static",!t.canPlay&&"cursor-progress"),onClick:()=>a.toggle(),children:t.playing?e.jsxs(e.Fragment,{children:[e.jsx(N,{size:24}),"Pause"]}):e.jsxs(e.Fragment,{children:[e.jsx(P,{size:24}),"Play"]})}),e.jsx("div",{className:"absolute top-1/2 right-5 -translate-y-1/2 text-white",children:e.jsxs("select",{style:{padding:6,backgroundColor:"#2e2e2e",color:"white",fontSize:14,fontWeight:700,border:"none"},onChange:l=>{o(l.target.value)},children:[e.jsx("option",{value:"ode",children:"Ode to Joy"}),e.jsx("option",{value:"canon",children:"Canon in D"}),e.jsx("option",{value:"gymnopedie",children:"Gymnop√©die No.1"})]})})]})]})}const O=f(function(){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"relative flex min-h-[800px,100vh] w-full flex-col text-white",children:[e.jsx(y,{}),e.jsxs("div",{className:"bg-purple-primary flex flex-col items-center p-8 text-center",children:[e.jsx("h1",{className:"text-responsive-xxl font-bold",children:"Your Piano Journey Begins Here"}),e.jsx(c,{height:8}),e.jsx("h3",{className:"text-responsive-xl",children:"Plug in your keyboard and learn, right in your browser"}),e.jsx(c,{height:250})]}),e.jsx(T,{marginTop:-250}),e.jsxs("div",{className:"bg-background mt-auto flex min-h-[200px] flex-col items-center gap-6 pt-[42px]",children:[e.jsx("h3",{className:"text-black",style:{fontSize:"clamp(1rem, 1rem + 1vw, 2rem)"},children:"Start learning"}),e.jsxs("div",{className:"grid w-full justify-center gap-4",style:{gridTemplateColumns:"repeat(auto-fit, minmax(min-content, 150px))"},children:[e.jsx(p,{to:"/songs",children:e.jsx(x,{className:"bg-purple-primary hover:bg-purple-hover text-white",children:"Learn a song"})}),e.jsx(p,{to:"/freeplay",children:e.jsx(x,{className:"border-purple-primary text-purple-primary hover:bg-purple-light border bg-white",children:"Free play"})})]})]}),e.jsx(c,{height:16}),e.jsx(j,{})]})})});function x({children:n,style:t,className:s}){return e.jsx("button",{className:s,style:{transition:"background-color 150ms",cursor:"pointer",fontSize:"clamp(0.875rem, 0.875rem + 0.5vw, 1.2rem)",padding:"10px 16px",borderRadius:15,fontWeight:700,minWidth:"max-content",width:"100%",...t},children:n})}export{O as default};
