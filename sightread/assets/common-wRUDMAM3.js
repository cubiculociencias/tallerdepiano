import{i as y,V as _,W as N,a0 as u,$ as R}from"./context-kPolJz0x.js";import"./chunk-PVWAREVJ-BeAWct5i.js";import"./Canvas-C5qiJpk2.js";const f={staff5Lines:"",staff5LinesNarrow:"",legerLine:"",fClef:"",gClef:"",brace:"",timeSig0:"",timeSig1:"",timeSig2:"",timeSig3:"",timeSig4:"",timeSig5:"",timeSig6:"",timeSig7:"",timeSig8:"",timeSig9:"",timeSigCombNumerator:"",timeSigCombDenominator:"",noteheadBlack:"",noteEmptyBlack:"",noteAFlatBlack:"",noteABlack:"",noteASharpBlack:"",noteBFlatBlack:"",noteBBlack:"",noteBSharpBlack:"",noteCFlatBlack:"",noteCBlack:"",noteCSharpBlack:"",noteDFlatBlack:"",noteDBlack:"",noteDSharpBlack:"",noteEFlatBlack:"",noteEBlack:"",noteESharpBlack:"",noteFFlatBlack:"",noteFBlack:"",noteFSharpBlack:"",noteGFlatBlack:"",noteGBlack:"",noteGSharpBlack:"",staffPosLower1:"",staffPosLower2:"",staffPosLower3:"",staffPosLower4:"",staffPosLower5:"",staffPosLower6:"",staffPosLower7:"",staffPosLower8:"",staffPosRaise1:"",staffPosRaise2:"",staffPosRaise3:"",staffPosRaise4:"",staffPosRaise5:"",staffPosRaise6:"",staffPosRaise7:"",staffPosRaise8:"",accidentalFlat:"",accidentalNatural:"",accidentalSharp:"",accidentalDoubleSharp:"",accidentalDoubleFlat:""};let k=!1,S={x:1/0,y:1/0},L={x:0,y:0};function A(e){k=!0,F(e)}function D(e){k=!1,F(e)}const F=e=>{const{clientX:o,clientY:t}=e;k?L={x:o-S.x,y:t-S.y}:L={x:0,y:0},S={x:o,y:t}};y()&&(window.addEventListener("pointerdown",A,{passive:!0,capture:!0}),window.addEventListener("pointerup",D,{passive:!0,capture:!0}),window.addEventListener("pointermove",F,{passive:!0,capture:!0}));function Y(){return k}function H(){return L}function K(e,o){return{x:S.x-e,y:S.y-o}}function B(e,o,t,a,n){e.beginPath(),e.moveTo(o,t),e.lineTo(a,n),e.stroke()}function V(e,o,t,a,n,r){let s=r?.topRadius??10,i=r?.bottomRadius??10;(a<=2*s||n<=2*s)&&(s=Math.min(a,n)/2),(a<=2*i||n<=2*i)&&(i=Math.min(a,n)/2),e.beginPath(),e.moveTo(o+s,t),e.arcTo(o+a,t,o+a,t+n,s),e.arcTo(o+a,t+n,o,t+n,i),e.arcTo(o,t+n,o,t,i),e.arcTo(o,t,o+a,t,s),e.closePath(),e.fill(),e.stroke()}function U(e,o,t,a,n,r=Math.abs(Math.min(a,n)/2)){e.beginPath(),e.moveTo(o,t),e.arcTo(o+a,t,o+a,t+n,r),e.lineTo(o+a,t+n),e.lineTo(o+a,t),e.lineTo(o,t),e.closePath(),e.fill(),e.stroke()}const m="Leland",l=80,P=l/4,T=l/8,C=2,X=20,O="rgba(110, 40, 251, 0.43)",I={A:5,B:6,C:0,D:1,E:2,F:3,G:4},$={treble:{bottomRow:d(u("E4")),topRow:d(u("F5"))},bass:{bottomRow:d(u("G2")),topRow:d(u("A3"))}};function j(e,o,t,a){e.save(),e.lineWidth=3,B(e,o,t,o,a),e.restore()}function q(e,o,t,a){e.save(),e.lineWidth=C;for(let n=0;n<5;n++,t+=T*2)B(e,o,t,a,t);e.restore()}function z(e,o,t,a,n,r,c){let s=v(n,r,c);const i=s<0?-1:1;if(Math.abs(s%2)==1&&(s-=i),0<=s&&s<10)return;let p=Math.min(0,s);const b=Math.max(0,s);for(b>=10&&(p=10),e.save(),e.font=`${l}px ${m}`,e.lineWidth=C;p<=b;p+=2){const E=T*p+a;B(e,o,E,o+t,E)}e.restore()}function J(e,o,t,a){e.save(),e.strokeStyle=O,e.shadowOffsetX=-4,e.shadowOffsetY=1,e.shadowBlur=5,e.shadowColor="black",e.lineWidth=4,B(e,o,t,o,a),e.restore()}function Q(e,o,t,a){e.save();const{numerator:n,denominator:r}=a,c=f["timeSig"+n],s=f["timeSig"+r];e.font=`${l}px ${m}`,e.fillText(c,o,t+P),e.fillText(s,o,t+P*3),e.restore()}function Z(e,o,t,a,n){e.save();const c=R(a).type==="flat"?f.accidentalFlat:f.accidentalSharp,s=l;e.font=`${s}px ${m}`;for(let i of G(a,n)){const p=t+g(u(i),n);e.fillText(c,o,p),o+=P}e.restore()}function G(e,o){return R(e).notes.map(t=>{let a=o==="treble"?5:3;return(t==="A"||t==="B")&&a--,t+a})}function x(e,o,t,a){e.save(),e.font=`${l}px ${m}`,w(e,f.noteheadBlack,o-P/2,t,l,a),e.restore()}function w(e,o,t,a,n,r="black"){e.save(),n?e.font=`${n}px ${m}`:e.font=m,e.fillStyle=r,e.strokeStyle=r,e.fillText(o,t,a),e.restore()}function ee(e,o,t,a){return t+g(e,o,a)}function g(e,o,t){return v(e,o,t)*T}function v(e,o,t){return $[o].topRow-d(e,t)}function d(e,o){let t=_(e,o),a=N(e),n=t[0];return a*7+I[n]}function oe(e,o,t){const a=t+g(u("G4"),"treble");w(e,f.gClef,o,a,l)}function te(e,o,t){const a=t+g(u("F3"),"bass");w(e,f.fClef,o,a,l)}function ae(e,o,t,a){w(e,f.brace,o,t,a)}const ne={purple:{primary:"#8147EB",dark:"#611AE5"},orange:{primary:"#EB7847",dark:"#CF4E17"}};export{X as P,P as S,U as a,H as b,z as c,q as d,ee as e,x as f,K as g,w as h,Y as i,f as j,ae as k,B as l,j as m,J as n,oe as o,ne as p,te as q,V as r,Z as s,Q as t};
